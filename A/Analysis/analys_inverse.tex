\Aufgabe[e]{Inverse Funktion}{
%Verify that the given pairs of functions are inverse pairs. Specify their domain (consider the principal value if needed) and check if they are invertible.
Gegeben seien die folgenden Funktionen
\begin{multicols}{2}
\begin{iii}
\item  
$f_1(x)=\operatorname{e}^{\frac{1}{x}}$,
\item 
$f_2(x)=\frac{1}{x^2-1}$,
\item 
$f_3(x)=\sin(x)$,
\item 
$f_4(x)=\tan(x)$.
\end{iii}
\end{multicols}
\begin{abc}
\item Bestimmen Sie den maximalen Definitionsbereich und den Wertebereich.
\item Betimmen Sie die Einschr\"ankung des Definitionsbereichs und Wertebereichs, so dass die Funktionen bijektiv sind. 
(Betrachten Sie, falls n\"otig, den Hauptzweig.)
\item Bestimmen Sie die inverse Funktion.
\item Skizzieren Sie die Funktion sowie deren inverse Funktion.
\end{abc}
}
\Loesung{
\begin{iii}
\item
The function $f_1(x)=\operatorname{e}^{\frac{1}{x}}$ is defined for $x\in \mathbb{R}\setminus\{0\}$. 
The first derivative is $-\frac{1}{x^2}\operatorname{e}^{\frac{1}{x}}<0$ for all $x\in \mathbb{R}\setminus\{0\}$ therefore $f_1$ is strictly monotonically decreasing on each branch, thus injective.
The function has the limit
$$
\lim_{x\to \pm \infty} f_1(x) = 1.
$$
therefore it is surjective on the codomain $ (0,1)\cup (1,\infty)$.
The function $f_1$ is bijective as a map $f_1:\mathbb{R}\setminus\{0\} \to (0,1) \cup (1,\infty)$.
The inverse function can be computed as
\begin{align*}
\operatorname{e}^{\frac{1}{x}}=y, 
\quad y = \begin{cases}(0, 1) & \text{for} x <0,
                       (1, \infty) \text {for} x>0,\end{cases}\\
\frac{1}{x} =\ln(y),\\
x=\frac{1}{\ln(y)}, \quad (\ln(y) \neq 0).
\end{align*}
A change of the variable names gives the inverse function 
$$f_1^{-1}(x)=\frac{1}{\ln(x)}.$$

\begin{tikzpicture}
    \begin{axis}[
     axis lines=middle,clip=false,
            xmin=-4.5,xmax=4.5, ymin=-5,ymax=5,
            xticklabel style={black},
            xlabel=$x$,
            ylabel=$y$]
    \addplot[domain=-5:-0.0001,samples=200,red]{exp(1/x)}
    node[left,pos=1.,font=\footnotesize]{$f_1: (-\infty,0) \to (0,1)$};
    \addplot[domain=0.5:5,samples=200,red]{exp(1/x)}
    node[right,pos=1.,font=\footnotesize]{$f_1: (0,\infty) \to (1,\infty)$};
    \addplot[domain=0.0001:0.8,samples=200,blue]{1/(ln(x))}
    node[right,pos=1.,font=\footnotesize]{$f_1^{-1}: (0,1) \to (\infty,0)$};
    \addplot[domain=1.2:5,samples=200,blue]{1/(ln(x))}
    node[right,pos=1.,font=\footnotesize]{$f_1^{-1}: (1,\infty) \to (0,\infty)$};
\end{axis}
\end{tikzpicture}
\newpage
\item
The function $f_2(x) = \frac{1}{x^2-1}$ is not defined for $x = \pm 1$.
The domain of definition is $(-\infty,-1) \cup (-1,1) \cup (1,\infty)$.
The codamain is $(-\infty,1] \cup (0,\infty)$. 
The first derivative 
$$
f_2'(x) = -\frac{2x}{(x^2 - 1)^2}
$$
is positive for $x \in (-\infty, -1)$ and $x \in (-1,0)$ therefore monotonically increasing and 
it is negative for $x \in (0,1)$ and $x \in (1,\infty)$ therefore monotonically decreasing. 
The maps $f_2 : (0,1) \to (-\infty,1] \cup (1,\infty) \to \cup (0,\infty)$ is bijective and the inverse function
can be computed as
\begin{align*}
\frac{1}{x^2-1}=y,\\
x^2-1 = \frac{1}{y},\\
x^2 = \frac{1}{y} + 1,\\
x = \sqrt{\frac{1}{y} + 1}.
\end{align*}
A change of the variable names gives the inverse function 
$$f_2^{-1}(x)=\sqrt{\frac{1+x}{x}}.$$
Analogous we can invert the negative branch. We restrict the domain of definition to $(-\infty,-1)\cup(-1,0)$.
The map $f_2: (-\infty,-1)\cup(-1,0) \to (-\infty,-1]\cup (0,\infty)$ is bijective and the inverse function
can be computed as above, but we take the negative square root. The inverse function of negative branch is:
$$f_2^{-1}(x)=\sqrt{\frac{1}{x}+1}.$$
\begin{tikzpicture}
    \begin{axis}[
     axis lines=middle,clip=false,
            xmin=-4.5,xmax=4.5, ymin=-5,ymax=5,
            xticklabel style={black},
            xlabel=$x$,
            ylabel=$y$]
    \addplot[domain=-5:-1.1,samples=200,red]{1/(x^2-1)}
    node[left,pos=1.,font=\footnotesize]{$f_2:(-\infty, -1) \to (0,\infty)$};
    \addplot[domain=-0.9:0,samples=200,red]{1/(x^2-1)}
    node[left,pos=1.,font=\footnotesize]{$f_2:(-1,0) \to (-\infty, -1)$};
    \addplot[domain=0:0.9,samples=200,red]{1/(x^2-1)};
    node[left,pos=1.,font=\footnotesize]{$f_2:[0,1) \to [-1,-\infty)$};
    \addplot[domain=1.1:5,samples=200,red]{1/(x^2-1)}
    node[right,pos=1.,font=\footnotesize]{$f_2:(1,\infty) \to (0,\infty)$};
    \addplot[domain=-5:-1.001,samples=200,blue]{sqrt((1+x)/x)}
    node[left,pos=1.,font=\footnotesize]{$f_2^{-1}:(-\infty,0) \to (-1,\infty)$};
    \addplot[domain=0.05:5,samples=200,blue]{sqrt((1+x)/x)}
    node[right,pos=1.,font=\footnotesize]{$f_2^{-1}:(0,\infty) \to (1,\infty)$};
    \addplot[domain=-5:-1.001,samples=200,black]{-sqrt((1+x)/x)}
    node[right,pos=1.,font=\footnotesize]{$f_2^{-1}:(-\infty,-1) \to (-1,0)$};
    \addplot[domain=0.05:5,samples=200,black]{-sqrt((1+x)/x)}
    node[right,pos=1.,font=\footnotesize]{$f_2^{-1}: (0,\infty) \to (-\infty,-1)$};
    \end{axis}
\end{tikzpicture}
\newpage

\item
The function $\arcsin(x)$ is the inverse function of $\sin(x)$ considering only the principal branch.
By definition, we restrict the domain of definition of $\sin(x)$ in $-\frac{\pi}{2} \leq x \leq \frac{\pi}{2}$, 
while the codomain is $[-1,1]$.
The first derivative of $\sin(x)$ is $\cos(x) \geq 0$ for all $x \in [-\frac{\pi}{2},\frac{\pi}{2}]$,
therefore it is monotonicallyincreasing, thus injective.
As map $f_3 : [-\frac{\pi}{2},\frac{\pi}{2}] \to [-1,1]$ it is bijective.
\begin{tikzpicture}
    \begin{axis}[
     axis lines=middle,clip=false,
            xmin=-pi,xmax=pi, ymin=-pi/2,ymax=pi/2,
            xticklabel style={black},
            xlabel=$x$,
            ylabel=$y$]
    \addplot[domain=-pi:pi,samples=200,red]{sin(deg(x))}
    node[left,pos=1.,font=\footnotesize]{$f_3(x)=\sin(x)$};
    \addplot[domain=-1:1,samples=200,blue]{asin(x)/180*pi}
    node[left,pos=1.,font=\footnotesize]{$f_2^{-1}(x)=\arcsin(x)$};
    \end{axis}
\end{tikzpicture}
\newpage
\item
The function $\arctan(x)$ is the inverse function of $\tan(x)$ considering only the principal branch. 
By definition, we restrict the domain of $\tan(x)$ in $-\frac{\pi}{2}< x <\frac{\pi}{2}$, 
while the codomain is $(-\infty,\infty)$.
The first derivative of $\tan(x)$ is $\frac{1}{\cos^2(x)} > 0$ for all $x \in (-\frac{\pi}{2},\frac{\pi}{2})$, therefore it is monotonically
increasing, thus injective. As map $f_3 : (-\frac{\pi}{2},\frac{\pi}{2}) \to (-\infty,\infty)$ it is bijective.
\begin{tikzpicture}
    \begin{axis}[
     axis lines=middle,clip=false,
            xmin=-2*pi,xmax=2*pi, ymin=-pi/2,ymax=pi/2,
            xticklabel style={black},
            xlabel=$x$,
            ylabel=$y$]
    \addplot[domain=-pi/2+0.5:pi/2-0.5,samples=200,red]{tan(deg(x))};
    \addplot[domain=-3*pi/2+0.5:-pi/2-0.5,samples=200,red]{tan(deg(x))};
    \addplot[domain=pi/2+0.5:3*pi/2-0.5,samples=200,red]{tan(deg(x))}
    node[left,pos=1.,font=\footnotesize]{$f_3(x)=\tan(x)$};
    \addplot[domain=-6:6,samples=200,blue]{atan(x)/180*pi}
    node[left,pos=1.,font=\footnotesize]{$f_2^{-1}(x)=\arctan(x)$};
    \end{axis}
\end{tikzpicture}
\textbf{d)} 
The MATLAB code for the plots of the functions and their inverse functions can be found in the ILIAS.

%clear all
%close all
%
%f=@(x) exp(1./x)
%
%% plot function and inverse branches
%
%% pt. I
%a=-3; b=-.01;
%
%x=linspace(a,b,100)';
%y=f(x);
%
%figure, plot(x,y,'LineWidth',2), hold on, grid, plot(y,x,'LineWidth',2), axis equal
%
%% pt. II
%a=.8; b=3.5;
%
%x=linspace(a,b,100)';
%y=f(x);
%
%figure, plot(x,y,'LineWidth',2), hold on, grid, plot(y,x,'LineWidth',2), axis equal

%clear all
%close all
%
%f=@(x) 1./(x.*x-1)
%
%% plot function and inverse branches
%
%% pt. I
%a=-10; b=-1.1;
%
%x=linspace(a,b,100)';
%y=f(x);
%
%figure, plot(x,y,'LineWidth',2), hold on, grid, plot(y,x,'LineWidth',2), axis equal
%
%% pt. II
%a=-.9; b=-.01;
%
%x=linspace(a,b,100)';
%y=f(x);
%
%figure, plot(x,y,'LineWidth',2), hold on, grid, plot(y,x,'LineWidth',2), axis equal
%
%% pt. III
%a=0; b=.9;
%
%x=linspace(a,b,100)';
%y=f(x);
%
%figure, plot(x,y,'LineWidth',2), hold on, grid, plot(y,x,'LineWidth',2), axis equal
%
%% pt. IV
%a=1.1; b=10;
%
%x=linspace(a,b,100)';
%y=f(x);
%
%figure, plot(x,y,'LineWidth',2), hold on, grid, plot(y,x,'LineWidth',2), axis equal

\end{iii}
}


